\chapter{全文总结与展望}

\section{全文总结}
本研究针对内存资源利用率优化的关键问题，在内存需求快速增长与内存扩展能力受限的背景下，提出了一种面向异构后端的自适应主动冷页面卸载方案。该方案通过优化frontswap接口机制，实现了对异构卸载后端的自适应支持，并提出了基于内存压力的冷页面卸载策略以及基于访问距离的文件页与匿名页回收策略。具体而言，本研究的主要创新贡献可归纳为以下三个方面：

\begin{itemize}
    \item 提出了一种基于同步内存回收性能损失的内存压力量化方法。该方法通过精确测量内核处理同步内存回收操作的时间开销，有效屏蔽了用户负载和异构后端设备特性的差异性影响，解决了传统基于缺页率或页面分配次数等指标无法准确反映内存压力对应用程序性能实际影响的问题。实验结果表明，与传统方法相比，该量化方法能够更直接地反映内存压力对系统性能的负面影响，为冷页面卸载策略提供了可靠的决策依据。

    \item 设计了一种基于内存压力的冷页面自适应卸载策略。该策略通过将内存使用状态暴露至用户态，结合工作集大小预测机制和CGroup内存限制机制，实现了冷页面的动态卸载控制，从而在保证系统性能的前提下优化内存资源利用率。该策略的核心在于建立动态卸载量调整机制，有效避免了过度卸载导致的性能下降或卸载不足造成的资源浪费。实验验证表明，该策略能够实现内存使用效率与系统性能之间的最优平衡。

    \item 提出了一种基于访问距离的文件页与匿名页自适应回收策略。针对传统内核倾向于回收文件页的问题，该策略通过近似计算文件页的访问距离，自适应调整文件页与匿名页的回收比例，有效降低了同步内存回收操作导致的性能下降。该策略的创新之处在于引入访问距离量化指标，通过精确度量页面的访问频率与时间间隔，为回收决策提供了更准确的依据。实验结果证实，该策略能够显著降低因回收操作引起的性能波动，提升系统的整体稳定性。

\end{itemize}

\section{后续工作展望}
尽管本研究在异构后端环境下的主动冷页面卸载方面取得了阶段性成果，但仍存在若干关键问题需要进一步深入研究与优化：

\begin{itemize}
    \item 在文件页与匿名页回收策略的验证过程中，尚未实现匿名页访问距离的精确计算，这可能导致回收策略的准确性受到限制。后续研究将重点完善匿名页访问距离的计算方法，进一步提高回收策略的精准度。

    \item 当前的冷热页面识别机制主要依赖于内核的Clock算法，该算法作为一种通用策略，未能充分考虑应用程序的优先级和访问特征。未来研究将探索基于eBPF（extended Berkeley Packet Filter）的冷热页面识别方法，通过捕捉应用程序的特定访问模式，实现更精确的冷热页面识别。同时，将研究如何结合应用程序的语义信息，进一步优化冷热页面识别的准确性，从而提升整体方案的性能。

    \item 当前的冷页面主动卸载方案主要针对硬件的延迟和带宽进行了自适应估计，屏蔽了异构卸载后端的速度差异，但尚未充分考虑异构卸载后端的特性差异。后续研究将重点解决NVM的写入优化问题以及CXL的cacheline级别内存访问等关键技术挑战。

\end{itemize}

以上问题的解决将进一步完善本研究的主动冷页面卸载方案，为内存资源的高效利用提供更可靠的技术支持，同时为未来内存管理技术的发展提供新的研究方向。